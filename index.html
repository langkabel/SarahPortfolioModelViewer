<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    
    <!-- Style for buttons, sidebar and overlay -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="stylenav.css">
    <!-- Import library for model viewer -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>
    <!-- Import helper functions -->
    <script src="informations.js"></script>
    <script src="helper.js"></script>
</head>

<body>
    <!-- Loading screen -->
    <div id="loading-screen">
        <div class="loader-container">
            <div class="text-animation">
                <span>Welcome to Sarah's House</span>

            </div>
        <div class="circle-loader-container">
                <div class="loader"></div>
            </div>
        </div>
    </div>

<div id="navbar">
        <div class="sarah-wewer">Sarah Wewer</div>
        <div id="navigation-buttons">
            <div class="dropdown">
                <button id="navigation-button-rooms" class="navigation-button dropbtn">Räume ▼</button>
                <div id="room-sidebar" class="dropdown-content">
                    <button class="room-button" data-room="3">Empfang</button>
                    <button class="room-button" data-room="8">Aktuelles</button>
                    <button class="room-button" data-room="4">Gutenachtgeschichten</button>
                    <button class="room-button" data-room="5">Möbel und Gestaltung</button>
                    <button class="room-button" data-room="2">Kosmos</button>
                    <button class="room-button" data-room="7">Galerie</button>
                    <button class="room-button" data-room="6">Werkstatt</button>
                    <button class="room-button" data-room="9">Unterwasserschätze</button>
                    <button class="room-button" data-room="1">Uhrzeit</button>         
                    <button class="room-button" data-room="0">Sarahs Haus</button>       
                </div>
            </div>
            <div id="navigation-button-about" class="navigation-button">Über</div>
            <div id="navigation-button-contact" class="navigation-button">Kontakt</div>
        </div>
    </div>
    
    <div id="switch-room-button-container">
        <button id="switch-room-button-previous"
                class="switch-room-button hidden"
                data-direction="-1">◀ Zurück</button>
        <button id="room-0-button" class="full-house-button room-button" data-room="0">Ganzes Haus</button>
        <button id="switch-room-button-next"
                class="switch-room-button hidden"
                data-direction="1">Weiter ▶</button>
    </div>
    
    <!-- model viewer with model, room buttons and information buttons -->
    <model-viewer   id="sarahs-haus"
                    src="SarahTest3textures.glb" 
                    camera-controls tone-mapping="neutral" 
                    loading="eager"
                    poster="poster.jpg" 
                    shadow-intensity="1.85" 
                    exposure="0.65" 
                    shadow-softness="1"
                    field-of-view="45deg"
                    min-field-of-view="25deg" 
                    max-field-of-view="45deg" 
                    interpolation-decay="200" 
                    min-camera-orbit="auto auto 5%"
                    max-camera-orbit="auto 90 auto"
                    skybox-image="skybox.jpg">

        <!-- 
            - room buttons placed inside the model
            - slot should never be renamed, it binds the sidebar button to the corresponding hotspot
            - class *-button assigns the functions so dont rename (add classes if needed)
            - button is displayed 3d at the data-position
            - on click move point to go around the data-target position and take the local position of data orbit
            - view button should hide all other but the corrosponding information-buttons
            - on moving a certtain distance all view buttons get visible again and information buttons hidden
        --> 

        <button id="sarahs-haus"
            class="view-button hidden"  
            slot="hotspot-0" 
            data-position="0 0 0" 
            data-normal="0 0 0" 
            data-visibility-attribute="visible"                       
            data-orbit="140deg 80deg 30m" 
            data-target="0 0 0"
            data-room="0"> <!-- data-info="1" -->
        </button>

        <!-- Room 1 -->
        <button class="view-button"  
                slot="hotspot-1" 
                data-position="5.236324275636166m 7.916932557611619m -6.322623889191679m" 
                data-normal="0.766044443m -0.173648178m -0.642787610m" 
                data-visibility-attribute="visible"
                data-orbit="180deg 80deg 7m" 
                data-target="5.2m 7.9m -6.3m"
                data-room="1"> <!-- data-info="1" -->
            Uhrzeit</button>
        <button class="info-button"  
                slot="hotspot-1-info-1" 
                data-position="5.236324275636166m 7.916932557611619m -6.322623889191679m" 
                data-normal="0.766044443m -0.173648178m -0.642787610m" 
                data-visibility-attribute="visible"
                data-orbit="180deg 80deg 7m" 
                data-target="5.2m 7.9m -6.3m"
                data-room="1"
                data-info="1"> <!-- Info 1 for object in informations.js-->
            Informationen</button>
            
        <!-- Room 2 --> 
        <div id="room-1" class="hotspot-container"></div>
        <button class="view-button"  
                slot="hotspot-2" 
                data-position="-1.0963967732565436m 7.916288081308232m -6.393535749941938m" 
                data-normal="0m -0.173648178m -0.984807753m" 
                data-visibility-attribute="visible"
                data-orbit="180deg 80deg 7m" 
                data-target="-1.1m 7.9m -6.4m"
                data-room="2">
            Kosmos</button>
        <button class="info-button"  
                slot="hotspot-2-info-1" 
                data-position="-1.0963967732565436m 7.916288081308232m -6.393535749941938m" 
                data-normal="0m -0.173648178m -0.984807753m" 
                data-visibility-attribute="visible"
                data-orbit="180deg 80deg 7m" 
                data-target="-1.1m 7.9m -6.4m"
                data-room="2"
                data-info="1">
            Informationen</button>


        <!-- Room 3 -->
        <button class="view-button"  
                slot="hotspot-3"
                data-position="0.02775589252264643m 4.475654363632202m -6.476399143300341m" 
                data-normal="0m -0.258819045m -0.965925826m" 
                data-visibility-attribute="visible"
                data-orbit="180deg 75deg 7m" 
                data-target="0m 4.5m -6.5m"
                data-room="3">
            Empfang</button>
        <button class="info-button"  
                slot="hotspot-3-info-1" 
                data-position="0.02775589252264643m 4.475654363632202m -6.476399143300341m" 
                data-normal="0m -0.258819045m -0.965925826m" 
                data-visibility-attribute="visible"
                data-orbit="180deg 75deg 7m" 
                data-target="0m 4.5m -6.5m"
                data-room="3"
                data-info="1">
            Informationen</button>


        <!-- Room 4 -->
        <button class="view-button"  
                slot="hotspot-4" 
                data-position="-4.268101913765271m 4.3920329511279212m -6.523958637943631m" 
                data-normal="-0.642787610m -0.258819045m -0.766044443m" 
                data-visibility-attribute="visible"
                data-orbit="180deg 75deg 7m" 
                data-target="-4.3m 4.4m -6.5m"
                data-room="4">
            Gutenachtgeschichten</button>
        <button class="info-button"  
                slot="hotspot-4-info-1" 
                data-position="-4.268101913765271m 4.3920329511279212m -6.523958637943631m" 
                data-normal="-0.642787610m -0.258819045m -0.766044443m" 
                data-visibility-attribute="visible"
                data-orbit="180deg 75deg 7m" 
                data-target="-4.3m 4.4m -6.5m"
                data-room="4"
                data-info="1">
            Informationen</button>


        <!-- Room 5 -->
        <button class="view-button"  
                slot="hotspot-5" 
                data-position="5.161625716120152m 4.4601400594882676m -6.480447160917892m" 
                data-normal="0.766044443m -0.258819045m -0.642787610m" 
                data-visibility-attribute="visible"
                data-orbit="180deg 75deg 7m" 
                data-target="5.2m 4.5m -6.5m"
                data-room="5">
                Möbel und Gestaltung</button>
        <button class="info-button"  
                slot="hotspot-5-info-1" 
                data-position="5.161625716120152m 4.4601400594882676m -6.480447160917892m" 
                data-normal="0.766044443m -0.258819045m -0.642787610m" 
                data-visibility-attribute="visible"
                data-orbit="180deg 75deg 7m" 
                data-target="5.2m 4.5m -6.5m"
                data-room="5"
                data-info="1">
            Informationen</button>

        <!-- Room 6 -->
        <button class="view-button"  
                slot="hotspot-6" 
                data-position="5.008252133167844m 7.933713534621662m 5.976859689461875m" 
                data-normal="0.707106781m -0.173648178m 0.707106781m" 
                data-visibility-attribute="visible"
                data-orbit="0deg 80deg 7m" 
                data-target="5m 7.9m 6m"
                data-room="6">
            Werkstatt</button>
        <button class="info-button"  
                slot="hotspot-6-info-1" 
                data-position="5.008252133167844m 7.933713534621662m 5.976859689461875m" 
                data-normal="0.707106781m -0.173648178m 0.707106781m" 
                data-visibility-attribute="visible"
                data-orbit="0deg 80deg 7m" 
                data-target="5m 7.9m 6m"
                data-room="6"
                data-info="1">
            Informationen</button>

        <!-- Room 7 -->
        <button class="view-button"  
                slot="hotspot-7" 
                data-position="-1.119091379534228m 7.923051437741123m 6.086084288536002m" 
                data-normal="0m -0.173648178m 0.984807753m" 
                data-visibility-attribute="visible"
                data-orbit="0deg 80deg 7m" 
                data-target="-1.1m 7.9m 6.1m"
                data-room="7">
            Galerie</button>
        <button class="info-button"  
                slot="hotspot-7-info-1" 
                data-position="-1.119091379534228m 7.923051437741123m 6.086084288536002m" 
                data-normal="0m -0.173648178m 0.984807753m" 
                data-visibility-attribute="visible"
                data-orbit="0deg 80deg 7m" 
                data-target="-1.1m 7.9m 6.1m"
                data-room="7"
                data-info="1">
            Informationen</button>


        <!-- Room 8 -->
        <button class="view-button"  
                slot="hotspot-8" 
                data-position="2.3508562935009203m 3.930873990058899m 6.028137522599129m" 
                data-normal="0.342020143m -0.258819045m 0.939692621m" 
                data-visibility-attribute="visible"
                data-orbit="0deg 75deg 7m" 
                data-target="2.4m 3.9m 6m"
                data-room="8">
            Aktuelles</button>
        <button class="info-button"  
                slot="hotspot-8-info-1" 
                data-position="2.3508562935009203m 3.930873990058899m 6.028137522599129m" 
                data-normal="0.342020143m -0.258819045m 0.939692621m" 
                data-visibility-attribute="visible"
                data-orbit="0deg 75deg 7m" 
                data-target="2.4m 3.9m 6m"
                data-room="8"
                data-info="1">
                Informationen</button>


        <!-- Room 9 -->
        <button class="view-button"  
                slot="hotspot-9" 
                data-position="-3.6555645845936873m 3.9308743561279993m 5.941277910735158m" 
                data-normal="-0.342020143m -0.258819045m 0.939692621m" 
                data-visibility-attribute="visible"
                data-orbit="0deg 75deg 7m" 
                data-target="-3.7m 3.9m 5.9m"
                data-room="9">
            Unterwasserschätze</button> 
        <button class="info-button"  
                slot="hotspot-9-info-1" 
                data-position="-3.6555645845936873m 3.9308743561279993m 5.941277910735158m" 
                data-normal="-0.342020143m -0.258819045m 0.939692621m" 
                data-visibility-attribute="visible"
                data-orbit="0deg 75deg 7m" 
                data-target="-3.7m 3.9m 5.9m"
                data-room="9"
                data-info="1">
            Informationen</button>

    </model-viewer>
    <!--
        - sidebar with room buttons
        - dont remove classes, they are used for styling and functionality
        - sidebar is hidden on mobile devices 
        - the style is set to block when initialized in helper.js (function handleMobileLayout())
        - if flex is beeing used instead of block this needs to be changed in the helper.js file
    -->

    <!-- 
        - overlay with information 
        - container for the information content
        - button to close the overlay
        - dont remove classes, they are used for styling and functionality
    -->
    <div id="info-window" class="side-info-window">
        <div class="info-window-content">
            <button class="close" id="close-info-window"></button>
            <h2 id="info-window-title"></h2>
            <div id="info-window-content"></div>
        </div>
    </div>

</body>
</html>